<mat-sidenav-content>
  <app-top-bar>
    <mat-chip-list>
      <mat-chip
        *ngIf="!!(currentDelta$ | async)"
        color="accent"
        class="mat-chip-delta mat-elevation-z4"
        selected
        removable
        (removed)="removeDelta()">
        {{ currentDelta$ | async }}
        <mat-icon matChipRemove>cancel</mat-icon>
      </mat-chip>
    </mat-chip-list>
    <app-list-button
      (refresh)="refresh()"
      (selectedDateTime)="selectedDateTime($event)">
    </app-list-button>
  </app-top-bar>
  <app-list [isLoading]="isLoading$ | async" [isEmpty]="!(stationsStatus$ | async).length">
    <ng-container *ngIf="!(isLoading$ | async)">
      <a *ngFor="let station of stationsStatus$ | async; trackBy: trackByFn" class="mat-list-item-override" mat-list-item
        [href]="'https://www.google.fr/maps/dir/' + (currentPosition$ | async)?.lat + ',' + (currentPosition$ | async)?.lng + '/' + station.lat + ',' + station.lng + '/data=!3m1!4b1!4m2!4m1!3e2'" target="_blank">
        <app-row-station [station]="station">
          <span>{{ station.distance | number:'1.0-0' }}m</span>
          <span>{{ station.mechanical }}<i class="material-icons mechanical">directions_bike</i></span>
          <span>{{ station.ebike }}<i class="material-icons ebike">directions_bike</i></span>
        </app-row-station>
      </a>
    </ng-container>
  </app-list>
</mat-sidenav-content>
